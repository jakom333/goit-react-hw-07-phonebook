(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[4],{112:function(t,e,n){t.exports={form:"ContactForm_form__3mnjm",form_input:"ContactForm_form_input__3M9gH",button:"ContactForm_button__312Ap",inputTitle:"ContactForm_inputTitle__15iGa"}},113:function(t,e,n){t.exports={delete_button:"ContactsItem_delete_button__30NFB",contactItem:"ContactsItem_contactItem__wwWSo"}},114:function(t,e,n){t.exports={inputForm:"Filter_inputForm__3j_vm"}},115:function(t,e,n){t.exports={container:"Contacts_container__1ks47",formTitle:"Contacts_formTitle__1boDy",contactsCont:"Contacts_contactsCont__7Z3Xp",contactsList:"Contacts_contactsList__2dI3C"}},120:function(t,e,n){"use strict";n.r(e);var c=n(27),a=n(28),r=n(30),o=n(29),s=n(0),i=n(93),u=n.n(i),l=n(2),m=n(112),b=n(9),j=n(16),f=n.n(j),h=n(23),p=n(18),d=n.n(p),O=n(7),C={addContact:function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(Object(O.b)()),d.a.post("/contacts",c).then((function(e){var n=e.data;return t(Object(O.c)(n))})).catch((function(e){return t(Object(O.a)(e.message))}))}},deleteContact:function(t){return function(e){e(Object(O.f)()),d.a.delete("/contacts/".concat(t)).then((function(){return e(Object(O.g)(t))})).catch((function(t){return e(Object(O.e)(t.message))}))}},fetchContacts:function(){return function(){var t=Object(h.a)(f.a.mark((function t(e){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(O.i)()),t.prev=1,t.next=4,d.a.get("/contacts");case 4:n=t.sent,c=n.data,e(Object(O.j)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(O.h)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},g=n(32),_=function(t){return t.contacts.filter},v=function(t){return t.contacts.items},x={getLoading:function(t){return t.contacts.loading},getFiltered:_,getAllContacts:v,getErrorMessage:function(t){return t.contacts.error},getFilteredContacts:Object(g.a)([v,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},F=n(1),N=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleChange=function(e){t.setState(Object(l.a)({},e.target.name,e.target.value))},t.onHandleSubmit=function(e){e.preventDefault(),t.props.contacts.find((function(e){return e.name===t.state.name||e.number===t.state.number}))?alert("\u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c!"):(t.props.onSubmit(t.state),t.setState({name:"",number:""}))},t}return Object(a.a)(n,[{key:"render",value:function(){return Object(F.jsxs)("form",{className:m.form,onSubmit:this.onHandleSubmit,children:[Object(F.jsx)("h4",{className:m.inputTitle,children:"Name"}),Object(F.jsx)("input",{className:m.form_input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(F.jsx)("h4",{className:m.inputTitle,children:"Number"}),Object(F.jsx)("input",{className:m.form_input,type:"number",name:"number",value:this.state.number,onChange:this.handleChange}),Object(F.jsx)("button",{type:"submit",className:m.button,children:"Add contact"})]})}}]),n}(s.Component),y={onSubmit:C.addContact},k=Object(b.b)((function(t){return{contacts:x.getAllContacts(t)}}),y)(N),w=n(113),L={onDelete:C.deleteContact},T=Object(b.b)(null,L)((function(t){var e=t.filtered,n=t.onDelete;return e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(F.jsxs)("li",{name:e,className:w.contactItem,children:[Object(F.jsxs)("p",{children:["name: ",e]}),Object(F.jsxs)("p",{children:["tel.: ",c]}),Object(F.jsx)("button",{type:"button",className:w.delete_button,onClick:function(){return n(a)}})]},a)}))})),I=n(114),S=Object(b.b)((function(t){return{value:x.getFiltered(t)}}),(function(t){return{onChange:function(e){return t(Object(O.d)(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("p",{children:"Find contacts by name"}),Object(F.jsx)("input",{type:"text",name:"filter",value:e,onChange:n,className:I.inputForm})]})})),D=n(115),A=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.isLoadingContacts,n=t.isContactIncludes,c=t.error;return Object(F.jsxs)("div",{className:D.container,children:[Object(F.jsx)("h2",{className:D.formTitle,children:"Phonebook"}),Object(F.jsx)(k,{}),c&&Object(F.jsx)("p",{className:"error-message",children:c}),e&&Object(F.jsx)(u.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),n&&Object(F.jsxs)("div",{className:D.contactsCont,children:[Object(F.jsx)("h2",{className:D.formTitle,children:"Contacts"}),Object(F.jsx)(S,{}),Object(F.jsx)("ul",{className:D.contactsList,children:Object(F.jsx)(T,{filtered:this.props.contacts})})]})]})}}]),n}(s.Component);e.default=Object(b.b)((function(t){return{contacts:x.getFilteredContacts(t),isContactIncludes:t.contacts.items.length>0,isLoadingContacts:x.getLoading(t),error:x.getErrorMessage(t)}}),(function(t){return{fetchContacts:function(){return t(C.fetchContacts())}}}))(A)}}]);
//# sourceMappingURL=4.c23ff944.chunk.js.map